3. CREAR UN PROCEDIMIENTO QUE GUARDE LOS DEVELOPERS, LLAMARLO GUARDAR_DEVELOPER
4. CREAR UN PROCEDIMIENTO QUE GUARDE LAS TAREAS, LLAMARLO GUARDAR_TAREA
5. GUARDAR LOS SIGUIENTE DEVELOPERS:

BRENDA, BRENDAGMAIL.COM
JOSE OMAR, OMAR@YAHOO.COM
VICTOR ANGEL, VICTOR@HOTMAIL.COM
LESLYE , LESLIE@LIVE.COM

6. (DIFICIL) ASIGNAR LAS SIGUIENTES TAREAS A LOS DEVELOPERS
A BRENDA ASIGNARLE LA CREACION DE LA PAGINA WEB (DECRIPCION)
A JOSE OMAR ASIGNARLE LA CREACION DE LAS TABLAS
A. VICTOR ANGEL ASIGNARLE LA PROGRAMACION DE LOS PROCEDIMIENTOS
A LESLYE ASIGNARLE LA PROGRAMACION DE LOS SERVICIOS WEB

NOTA: AL ASIGNAR LAS TAREAS "NO SE DEBE DE PROPORCIONAR LA FECHA MANUALMENTE", SE DEBE
HACER AUTOMATICAMENTE AL MOMENTO DE INSERTARSE, TAMPOCO SE DEBE  DE PROPORCIONAR
PORCIENTO_COMPLETADO , INICIALMENTE DEBE SER 0 (CERO), DE IGUAL MANERA DEBE DE
GUARDARSE EN AUTOMATICO EL CAMPO COMPLETADA CON 'n' (QUIERE DECIR QUE NO ESTA COMPLETADA)


7. GENERAR UN PROCEDIMEINTO QUE SE LLAME ACTUALIZAR_TAREA, DEBE TENER COMO ARGUMENTOS
DE ENTRADA EL ID_DEVELOPER Y EL ID_TAREA, ASI COMO PORCIENTO_COMPLETADA.
eN LA LOGICA DEL PROCEDIMIENTO DEBE REALIZAR LO SIGUIENTE: SI LA TAREA ES MENOR D 100 DEBE
DE ACTUALIZAR AL VALOR PASADO POR EL PROCEDIMIENTO Y REASIGNARLO AL ANTERIOR. SI  LA TAREA
ES MAYOR DE 100 LANZAR UNA EXCPCION QU DIGA: "LO SIENTO EL PROCENTAJE ES MAYO DE 100%,
INTENTA OTRO VALOR"
SI EL PROCENTAJE A ASIGNAR YA SUMADO  ES IGUAL A 100, AUTOMATICAMENTE ASIGNAR AL CAMPO COMPLETADA
LA LETRA 'S' (DE SI COMPLETADA)
NOTA: EN TODAS LAS ACTUALIZACIONES SE DEBE ACTRUALIZAR LA FECHA AUTOMATICAMENTE.

8. HACER UNA ACTUALIZACION A LA TAREA DE BRENDA, ASIGNARLE UN PROCENTAJE DE  DE 30
VOLVER A AXCTUALIZAR A BRENDA, ASIGNARLE UN PROCENTAJE, DE 40, HACER UN SELECT Y VERIFICAR
QUE LOS DATOS SEAN CORRECTOS (ES DECIR DEBERIA TENER UN PROCENTAJE DE 70 Y EL CAMPO
COMPLETADA EN 'N'
-HACER UNA ACTUALZIACION A LA TAREA ASIGNADA A JOSE OMAR, ASIGNARLE UN PROCENTAJE DE 40,
VOLVER A ACTUALIZAR SU PROCENTAJE, DARLE UN PORCENTAJE DE 70. DEBERA LANZAR LA EXCEPCION, YA QUE
EL PORCENTAJE ES DE 110 (NO DEBE DE ASIGNARSE DICHO PROCENTAJE, DEBERA SEGUIR EN 40).
VOLVER A HACER LA ACTUALZIACION ASIGNARLE A JOSE OMAR UN PROCENTAJE DE 60. cOMO LA SUMA ES 100

DEBERA DE ACTUALIZARSE AUTOMATICAMENTE EL VALOR DE COMPLETADO A 'S' (YA COMPLETADA)
VERIFICAR CON UN SELECT QUE ASÍ SEA.



CREATE TABLE DEVELOPER( 
 ID_DEVELOPER INTEGER, 
 NOMBRE VARCHAR2(120), 
 EMAIL VARCHAR2(120), 
 CONSTRAINT ID_DEVELOPER PRIMARY KEY(ID_DEVELOPER)); 
 
CREATE TABLE TAREA( 
ID_TAREA INTEGER, 
ID_DEVELOPER INTEGER, 
DESCRIPCION VARCHAR2(500), 
COMPLETADA CHAR, 
PORCIENTO_COMPLETADA INTEGER, 
FECHA DATE, 
CONSTRAINT ID_TAREA PRIMARY KEY(ID_TAREA), 
CONSTRAINT ID_DEELOPER_TAREA FOREIGN KEY(ID_DEVELOPER) REFERENCES DEVELOPER(ID_DEVELOPER)); 

 
CREATE SEQUENCE SEC_DEVELOPER 
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE; 
 
CREATE SEQUENCE SEV_TAREA 
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE; 
 
CREATE OR REPLACE PROCEDURE GUARDAR_DEVELOPER(ID_DEVELOPER OUT INTEGER, MY_NOMBRE IN VARCHAR2, MY_EMAIL IN VARCHAR2) 
AS 
BEGIN 
SELECT SEC_DEVELOPER.NEXTVAL INTO ID_DEVELOPER FROM DUAL; 
INSERT INTO DEVELOPER VALUES(ID_DEVELOPER, MY_NOMBRE, MY_EMAIL); 
END; 
 
CREATE OR REPLACE PROCEDURE GUARDAR_TAREA(ID_TAREA OUT INTEGER, MY_ID_DEVELOPER IN INTEGER, MY_DESCRIPCION VARCHAR2) 
AS 
BEGIN 
SELECT SEV_TAREA.NEXTVAL INTO ID_TAREA FROM DUAL; 
INSERT INTO TAREA VALUES(ID_TAREA, MY_ID_DEVELOPER, MY_DESCRIPCION, 'N', 0, SYSDATE); 
END; 

DECLARE 
ID_DEVELOPER INTEGER; 
ID_TAREA INTEGER; 
BEGIN 
GUARDAR_DEVELOPER(ID_DEVELOPER, 'BRENDA', 'BRENDA@GMAIL.COM'); 
GUARDAR_TAREA(ID_TAREA, ID_DEVELOPER, 'CREACION DE LA PAGINA WEB'); 
 
 
GUARDAR_DEVELOPER(ID_DEVELOPER, 'JOSE OMAR', 'OMAR@YAHOO.COM'); 
GUARDAR_TAREA(ID_TAREA, ID_DEVELOPER, 'CREACION DE LAS TABLAS'); 
 
GUARDAR_DEVELOPER(ID_DEVELOPER, 'VICTOR ANGEL', 'VICTOR@HOTMAIL.COM'); 
GUARDAR_TAREA(ID_TAREA, ID_DEVELOPER, 'PROGRAMACION DE LOS PROCEDIMIENTOS'); 
 
GUARDAR_DEVELOPER(ID_DEVELOPER, 'LESLYE', 'LESLIE@LIVE.COM'); 
GUARDAR_TAREA(ID_TAREA, ID_DEVELOPER, 'PROGRAMACION DE LOS SERVICIOS WEB'); 
END; 
 
SELECT * FROM DEVELOPER; 
SELECT * FROM TAREA; 
 
CREATE OR REPLACE PROCEDURE ACTUALIZAR_TAREA(MY_ID_TAREA IN INTEGER, MY_ID_DEVELOPER IN INTEGER, MY_PORCIENTO_COMPLETADA IN INTEGER) 
AS 
PORCENTAJE_ACTUAL INTEGER; 
PORCENTAJE_TOTAL INTEGER; 
BEGIN 
SELECT PORCIENTO_COMPLETADA INTO PORCENTAJE_ACTUAL FROM TAREA WHERE ID_TAREA=MY_ID_TAREA; 
PORCENTAJE_TOTAL := PORCENTAJE_ACTUAL + MY_PORCIENTO_COMPLETADA; 
 IF PORCENTAJE_TOTAL > 100 THEN 
   RAISE_APPLICATION_ERROR(-20003, 'LO SIENTO EL PORCENTAGE ES MAYOR A 100%'); 
END IF; 

 IF PORCENTAJE_TOTAL = 100 THEN 
   UPDATE TAREA SET PORCIENTO_COMPLETADA=100, COMPLETADA='S',FECHA=SYSDATE WHERE ID_TAREA=MY_ID_TAREA; 
 END IF; 

 UPDATE TAREA SET PORCIENTO_COMPLETADA=PORCENTAJE_TOTAL, FECHA=SYSDATE WHERE ID_TAREA=MY_ID_TAREA; 
 END; 
 
BEGIN 
ACTUALIZAR_TAREA(1, 1, 30); 
END; 
 
BEGIN 
ACTUALIZAR_TAREA(1, 1, 40); 
END; 
